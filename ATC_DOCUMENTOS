CREATE TABLE ATC_DOCUMENTOS(
ID NUMBER(38),
CLASIFICACION VARCHAR2(35) NOT NULL,
TITULO VARCHAR2(200) NOT NULL,
NOMBREARCHIVO VARCHAR2(200) NOT NULL,
DESTINO VARCHAR2(200) NOT NULL,
FECHA TIMESTAMP(6)  NOT NULL,
INFOADICIONAL VARCHAR2(10) 
);

-- Crea la secuencia
CREATE SEQUENCE ATC_DOCUMENTOS_SEQ1
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

-- Crea el Trigger
CREATE OR REPLACE EDITIONABLE TRIGGER ATC_DOCUMENTOS_TRG
BEFORE INSERT ON ATC_DOCUMENTOS
FOR EACH ROW 
BEGIN
  IF INSERTING AND :NEW.ID IS NULL THEN
    SELECT ATC_DOCUMENTOS_SEQ1.NEXTVAL INTO :NEW.ID FROM SYS.DUAL;
  END IF;
END;
/

-- Activa la secuencia
ALTER TRIGGER ATC_DOCUMENTOS_TRG ENABLE;

-- Verifica que exista
SELECT trigger_name, status
FROM user_triggers
WHERE trigger_name = 'ATC_DOCUMENTOS_TRG';
